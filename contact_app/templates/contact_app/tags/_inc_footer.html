<!-- {% comment %}
connected to base.html with {% include %}
rendered with include tag

{% endcomment %} -->

{% load i18n %}

<!-- Footer -->

<footer class="bg-dark text-center text-white">

  
      <section class="">
        
        <div style="border: beige 3px dotted;">
         
          <form action="{% url 'add_contact2'%}" method="post" id="formSubscription">
           
            {% csrf_token %}
            <div class="row d-flex" style="flex-direction: column;
            align-items: center;
            padding-top: 1vh;">
             
              <div class="col-auto">
                <p class="pt-2">
                  <strong>{% trans 'Sign up for our newsletter' %}</strong>
                </p>
              </div>
              
              
              <div class="col-md-5 col-12">
                <!-- Email input -->
                <div class="form-outline form-white mb-4">
          
                  {{form.as_p}}
                  <textarea  name="contentBlock" id="contentBlockTextArea2" cols="3000" rows="1100" style="display:none"></textarea>
          
          
                 
                </div>
              </div>
             
              <div class="col-auto">
                
                <button type="submit" class="btn btn-outline-light mb-4" id="subscriptionButton2">{% trans 'Subscribe' %}
                  
                </button>
                
                {% for error in form.non_field_errors %}
                  {{error}}
                {% endfor %}
                  
              </div>
              
            </div>
           
            
          </form>
         
          <div class="form-error" id="form2Error"></div>
        </div>
       
      </section>
      
      <section class="mb-4">
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt distinctio earum
          repellat quaerat voluptatibus placeat nam, commodi optio pariatur est quia magnam
          eum harum corrupti dicta, aliquam sequi voluptate quas.
        </p>
      </section>
      
      <section class="">
        <!--Grid row-->
        <div class="row">
         
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h5 class="text-uppercase">{% trans 'Categories' %}</h5>
  
            <ul class="list-unstyled mb-0">
              
              {% for category in categories %}             
              <li>
                <a href="{{category.get_absolute_url}}" class="text-white">{{category.name}}</a>
              </li>
              {% endfor %}
              
            </ul>
          </div>
         
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h5 class="text-uppercase">{% trans 'Genres' %}</h5>
  
            <ul class="list-unstyled mb-0">
              
              {% for genre in genres %}
              <li>
                <a href="{{genre.get_absolute_url}}" class="text-white">{{genre.name}}</a>
              </li>
              {% endfor %}
             
            </ul>
          </div>
         
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h5 class="text-uppercase">Links</h5>
  
            <ul class="list-unstyled mb-0">
              <li>
                <a href="#!" class="text-white">Link 1</a>
              </li>
            </ul>
          </div>
          
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h5 class="text-uppercase">Links</h5>
  
            <ul class="list-unstyled mb-0">
              <li>
                <a href="#!" class="text-white">Link 1</a>
              </li>
            </ul>
          </div>
        </div>
      </section>
    </div>
  </footer>
  

<script>
  function checkSubscriptionForm(e){
    e.preventDefault();
    $.ajax({
      type: 'POST',
      url : "{% url 'add_contact2' %}",
      data : $(this).serialize(),
      dataType : 'json',
      success : function(response){
        $('#form2Error').text(response.result);
        if (response.hide){
          $('#formSubscription').hide();
        } 
      }
    })
  }
  formSubscription.onsubmit = checkSubscriptionForm
  // or formSubscription2.addEventListener("submit", checkSubscriptionForm);
  

</script>